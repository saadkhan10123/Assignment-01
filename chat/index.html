<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>HiveMind Chat</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="chat-container">
      <!-- Header -->
      <header class="chat-header">
        <div class="logo-container">
          <a href="../home/index.html" style="display: flex; align-items: center;">
            <img src="https://i.postimg.cc/x88sw-hZF/logo-hive.png" alt="HiveMind" class="logo">
            <h1><span class="hive-text">Hive</span><span class="mind-text">Mind</span></h1>
          </a>
        </div>
        <div class="profile-info">
          <img src="https://picsum.photos/200/300" alt="Profile" class="profile-image">
          <div>
            <span class="user-info">Artemis Salidius</span>
            <span class="user-tag tag-purple">#DespairDad</span>
          </div>
        </div>
        <div class="header-icons">
          <div class="icon-btn">
            <i class="bi bi-person-circle"></i>
            <span>Profile</span>
          </div>
          <div class="icon-btn">
            <i class="bi bi-telephone"></i>
            <span>Call</span>
          </div>
          <div class="icon-btn" data-bs-toggle="offcanvas" data-bs-target="#chatSettingsOffcanvas">
            <i class="bi bi-three-dots-vertical"></i>
            <span>More</span>
          </div>
        </div>
      </header>
      
      <!-- Main Content Area -->
      <div class="chat-main-container">
        <!-- Contacts Box -->
        <div class="contacts-box">
          <!-- Contacts Section -->
          <div class="sidebar-section">
            <h2 class="sidebar-heading">Contacts <span class="status-badge">Active</span></h2>
            <ul class="contact-list">
              <li class="contact-item">
                <div class="contact-avatar">
                  <img src="https://picsum.photos/200/300?random=1" alt="Profile" class="contact-image">
                  <span class="status-indicator"></span>
                </div>
                <div class="contact-info">
                  <span class="contact-name">Sara Williams</span>
                  <span class="contact-role">Senior Consultant</span>
                </div>
                <span class="contact-tag tag-red">#cadlist101</span>
              </li>
              <li class="contact-item">
                <div class="contact-avatar">
                  <img src="https://picsum.photos/200/300?random=2" alt="Profile" class="contact-image">
                  <span class="status-indicator"></span>
                </div>
                <div class="contact-info">
                  <span class="contact-name">Artemis Salidius</span>
                  <span class="contact-role">Finance Advisor</span>
                </div>
                <span class="contact-tag tag-purple">#DespairDad</span>
              </li>
              <li class="contact-item">
                <div class="contact-avatar">
                  <img src="https://picsum.photos/200/300?random=3" alt="Profile" class="contact-image">
                  <span class="status-indicator"></span>
                </div>
                <div class="contact-info">
                  <span class="contact-name">Franky</span>
                  <span class="contact-role">Student</span>
                </div>
                <span class="contact-tag tag-green">#Reaper007</span>
              </li>
            </ul>
          </div>
          
          <!-- Section Divider -->
          <div class="section-divider">
            <div class="divider-line"></div>
          </div>
          
          <!-- Chats Section -->
          <div class="sidebar-section">
            <h2 class="sidebar-heading">Chats</h2>
            <ul class="chat-list">
              <li class="chat-item">
                <div class="contact-avatar">
                  <img src="https://picsum.photos/200/300?random=4" alt="Profile" class="chat-image">
                  <span class="status-indicator"></span>
                </div>
                <div class="chat-info">
                  <span class="chat-name">Raj Vishal</span>
                  <span class="chat-role">Software Engineer</span>
                </div>
                <span class="chat-tag tag-red">#Cheeni18</span>
              </li>
              <li class="chat-item">
                <div class="contact-avatar">
                  <img src="https://picsum.photos/200/300?random=5" alt="Profile" class="chat-image">
                  <span class="status-indicator"></span>
                </div>
                <div class="chat-info">
                  <span class="chat-name">Michael Smith</span>
                  <span class="chat-role">Sr. Photographer</span>
                </div>
                <span class="chat-tag tag-blue">#Bigmic32</span>
              </li>
              <li class="chat-item">
                <div class="contact-avatar">
                  <img src="https://picsum.photos/200/300?random=6" alt="Profile" class="chat-image">
                  <span class="status-indicator"></span>
                </div>
                <div class="chat-info">
                  <span class="chat-name">Judy Ju</span>
                  <span class="chat-role">Law Aspirant</span>
                </div>
                <span class="chat-tag tag-teal">#Jujatsu1</span>
              </li>
              <li class="chat-item">
                <div class="contact-avatar">
                  <img src="https://picsum.photos/200/300?random=7" alt="Profile" class="chat-image">
                  <span class="status-indicator"></span>
                </div>
                <div class="chat-info">
                  <span class="chat-name">David Harbour</span>
                  <span class="chat-role">Actor</span>
                </div>
                <span class="chat-tag tag-yellow">#DavidHb</span>
              </li>
              <li class="chat-item">
                <div class="contact-avatar">
                  <img src="https://picsum.photos/200/300?random=8" alt="Profile" class="chat-image">
                  <span class="status-indicator"></span>
                </div>
                <div class="chat-info">
                  <span class="chat-name">Charity Mill</span>
                  <span class="chat-role">Fashion Designer</span>
                </div>
                <span class="chat-tag tag-purple">#HeartSage</span>
              </li>
              <li class="chat-item">
                <div class="contact-avatar">
                  <img src="https://picsum.photos/200/300?random=9" alt="Profile" class="chat-image">
                  <span class="status-indicator"></span>
                </div>
                <div class="chat-info">
                  <span class="chat-name">Yasin Alma'ar</span>
                  <span class="chat-role">Mechanical Engineer</span>
                </div>
                <span class="chat-tag tag-orange">#Unknown12</span>
              </li>
            </ul>
          </div>
        </div>
        
        <!-- Chat Box -->
        <div class="chat-box">
          <div class="chat-content">
            <div class="chat-messages">
              <div class="message received">
                <div class="message-avatar">
                  <img src="https://picsum.photos/200/300?random=10" alt="Profile">
                </div>
                <div class="message-bubble">
                  <div class="message-content">Hey Armi! How's everything Rollin'?</div>
                  <div class="message-time">Seen â€¢ 12:30 PM</div>
                </div>
              </div>
              
              <div class="message sent">
                <div class="message-bubble">
                  <div class="message-content">Hey Lindon! Just working on this new Agents ğŸ‘</div>
                  <div class="message-time">Sent â€¢ 12:30 PM</div>
                </div>
                <div class="message-avatar">
                  <img src="https://picsum.photos/200/300?random=11" alt="Profile">
                </div>
              </div>
              
              <div class="message received">
                <div class="message-avatar">
                  <img src="https://picsum.photos/200/300?random=12" alt="Profile">
                </div>
                <div class="message-bubble">
                  <div class="message-content">That's so cool. I wanna see it now ğŸ¤©. Share it here, let me be the beta tester</div>
                  <div class="message-time">Seen â€¢ 12:30 PM</div>
                </div>
              </div>
              
              <div class="message sent">
                <div class="message-bubble">
                  <div class="message-content">Sure! Here ya go!!!</div>
                  <div class="message-time">Sent â€¢ 12:30 PM</div>
                </div>
                <div class="message-avatar">
                  <img src="https://picsum.photos/200/300?random=13" alt="Profile">
                </div>
              </div>
              
              <div class="message sent">
                <div class="message-bubble">
                  <div class="agent-card">
                    <div class="agent-card-image">
                      <img src="https://hatrabbits.com/wp-content/uploads/2017/01/random.jpg" alt="Random image">
                    </div>
                    <div class="agent-card-title">Img2Vec agent</div>
                    <button class="agent-card-button">Test Now!</button>
                  </div>
                  <div class="message-time">Sent â€¢ 12:30 PM</div>
                </div>
                <div class="message-avatar">
                  <img src="https://picsum.photos/200/300?random=15" alt="Profile">
                </div>
              </div>
            </div>
            
            <div class="chat-input">
              <div class="typing-indicator">Artemis is typing...</div>
              <div class="input-container">
                <input type="text" placeholder="Message #DespairDad" class="message-input">
                <div class="input-controls">
                  <button class="control-button" data-bs-toggle="offcanvas" data-bs-target="#emojiOffcanvas">
                    <i class="bi bi-emoji-smile"></i>
                  </button>
                  <button class="control-button">
                    <i class="bi bi-grid"></i>
                  </button>
                  <button class="control-button">
                    <i class="bi bi-arrows-angle-expand"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Offcanvas for Chat Setting -->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="chatSettingsOffcanvas" aria-labelledby="chatSettingsOffcanvasLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="chatSettingsOffcanvasLabel">Chat Settings</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <div class="mb-4">
          <h6 class="fw-bold mb-3">Chat Preferences</h6>
          <!-- Removed the dark mode switch from here as we now have a button toggle -->
          <div class="form-check form-switch mb-2">
            <input class="form-check-input" type="checkbox" id="notificationsSwitch" checked>
            <label class="form-check-label" for="notificationsSwitch">Notifications</label>
          </div>
          <div class="form-check form-switch mb-2">
            <input class="form-check-input" type="checkbox" id="soundsSwitch" checked>
            <label class="form-check-label" for="soundsSwitch">Message Sounds</label>
          </div>
        </div>
        
        <div class="mb-4">
          <h6 class="fw-bold mb-3">Chat Actions</h6>
          <div class="list-group">
            <button type="button" class="list-group-item list-group-item-action">
              <i class="bi bi-search me-2"></i> Search in Conversation
            </button>
            <button type="button" class="list-group-item list-group-item-action">
              <i class="bi bi-images me-2"></i> Media Gallery
            </button>
            <button type="button" class="list-group-item list-group-item-action">
              <i class="bi bi-pin-angle me-2"></i> Pinned Messages
            </button>
            <button type="button" class="list-group-item list-group-item-action">
              <i class="bi bi-people me-2"></i> Create Group Chat
            </button>
          </div>
        </div>
        
        <div>
          <h6 class="fw-bold mb-3">Privacy Options</h6>
          <div class="list-group">
            <button type="button" class="list-group-item list-group-item-action">
              <i class="bi bi-shield-lock me-2"></i> Privacy Settings
            </button>
            <button type="button" class="list-group-item list-group-item-action text-danger">
              <i class="bi bi-x-circle me-2"></i> Block User
            </button>
            <button type="button" class="list-group-item list-group-item-action text-danger">
              <i class="bi bi-exclamation-triangle me-2"></i> Report Issue
            </button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Emoji Picker Offcanvas - NEW COMPONENT -->
    <div class="offcanvas offcanvas-bottom" tabindex="-1" id="emojiOffcanvas" aria-labelledby="emojiOffcanvasLabel" style="height: 300px;">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="emojiOffcanvasLabel">Emoji Picker</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <ul class="nav nav-tabs mb-3" id="emojiTab" role="tablist">
          <li class="nav-item" role="presentation">
            <button class="nav-link active" id="smileys-tab" data-bs-toggle="tab" data-bs-target="#smileys-tab-pane" type="button" role="tab" aria-controls="smileys-tab-pane" aria-selected="true">
              <i class="bi bi-emoji-smile"></i> Smileys
            </button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="animals-tab" data-bs-toggle="tab" data-bs-target="#animals-tab-pane" type="button" role="tab" aria-controls="animals-tab-pane" aria-selected="false">
              <i class="bi bi-emoji-laughing"></i> Animals
            </button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="objects-tab" data-bs-toggle="tab" data-bs-target="#objects-tab-pane" type="button" role="tab" aria-controls="objects-tab-pane" aria-selected="false">
              <i class="bi bi-lightning"></i> Objects
            </button>
          </li>
        </ul>
        <div class="tab-content" id="emojiTabContent">
          <div class="tab-pane fade show active" id="smileys-tab-pane" role="tabpanel" aria-labelledby="smileys-tab" tabindex="0">
            <div class="d-flex flex-wrap">
              <button class="btn emoji-btn">ğŸ˜€</button>
              <button class="btn emoji-btn">ğŸ˜ƒ</button>
              <button class="btn emoji-btn">ğŸ˜„</button>
              <button class="btn emoji-btn">ğŸ˜</button>
              <button class="btn emoji-btn">ğŸ˜†</button>
              <button class="btn emoji-btn">ğŸ˜…</button>
              <button class="btn emoji-btn">ğŸ¤£</button>
              <button class="btn emoji-btn">ğŸ˜‚</button>
              <button class="btn emoji-btn">ğŸ™‚</button>
              <button class="btn emoji-btn">ğŸ™ƒ</button>
              <button class="btn emoji-btn">ğŸ˜‰</button>
              <button class="btn emoji-btn">ğŸ˜Š</button>
              <button class="btn emoji-btn">ğŸ˜‡</button>
            </div>
          </div>
          <div class="tab-pane fade" id="animals-tab-pane" role="tabpanel" aria-labelledby="animals-tab" tabindex="0">
            <div class="d-flex flex-wrap">
              <button class="btn emoji-btn">ğŸ¶</button>
              <button class="btn emoji-btn">ğŸ±</button>
              <button class="btn emoji-btn">ğŸ­</button>
              <button class="btn emoji-btn">ğŸ¹</button>
              <button class="btn emoji-btn">ğŸ°</button>
              <button class="btn emoji-btn">ğŸ¦Š</button>
              <button class="btn emoji-btn">ğŸ»</button>
              <button class="btn emoji-btn">ğŸ¼</button>
              <button class="btn emoji-btn">ğŸ¨</button>
            </div>
          </div>
          <div class="tab-pane fade" id="objects-tab-pane" role="tabpanel" aria-labelledby="objects-tab" tabindex="0">
            <div class="d-flex flex-wrap">
              <button class="btn emoji-btn">ğŸš—</button>
              <button class="btn emoji-btn">ğŸš•</button>
              <button class="btn emoji-btn">ğŸš™</button>
              <button class="btn emoji-btn">ğŸšŒ</button>
              <button class="btn emoji-btn">ğŸš</button>
              <button class="btn emoji-btn">ğŸï¸</button>
              <button class="btn emoji-btn">ğŸš“</button>
              <button class="btn emoji-btn">ğŸš‘</button>
              <button class="btn emoji-btn">ğŸš’</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <!-- Common JavaScript -->
    <script src="../script.js"></script>
    <!-- Page-specific JavaScript -->
    <script src="chat.js"></script>
    
    <script>
      // Image click handler to view larger images
      document.addEventListener('DOMContentLoaded', function() {
        // Find all clickable images in messages and agent cards
        const messageImages = document.querySelectorAll('.message-content img, .agent-card-image img');
        
        messageImages.forEach(img => {
          img.addEventListener('click', function() {
            // Create modal or lightbox for the image
            const modal = document.createElement('div');
            modal.className = 'image-modal';
            
            // Create image element with full size
            const fullImg = document.createElement('img');
            fullImg.src = this.src;
            
            // Add close functionality
            modal.addEventListener('click', function() {
              document.body.removeChild(modal);
            });
            
            // Append elements
            modal.appendChild(fullImg);
            document.body.appendChild(modal);
          });
        });
        
        // Add emoji functionality
        document.querySelectorAll('.emoji-btn').forEach(btn => {
          btn.addEventListener('click', function() {
            const emoji = this.textContent;
            const input = document.querySelector('.message-input');
            input.value += emoji;
            input.focus();
            
            // Close the offcanvas
            const offcanvasElement = document.getElementById('emojiOffcanvas');
            const offcanvas = bootstrap.Offcanvas.getInstance(offcanvasElement);
            offcanvas.hide();
          });
        });
      });
    </script>
    
    <style>
      .emoji-btn {
        font-size: 1.5rem;
        padding: 0.5rem;
        border: none;
        background: transparent;
      }
      
      .emoji-btn:hover {
        transform: scale(1.2);
        background-color: rgba(0,0,0,0.05);
      }
    </style>
  </body>
</html>